(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-807b23d8"],{"204a":function(e,t,i){e.exports=i.p+"img/loading.4856b797.gif"},"21e0":function(e,t,i){e.exports=i.p+"img/copy.1adf2994.svg"},"22c6":function(e,t,i){e.exports=i.p+"img/Анонимный-чат-для-андроид-Nekto-в-Google-Play.eaa58cda.png"},"3a81":function(e,t,i){},"46e8":function(e,t,i){e.exports=i.p+"img/loading_night.3e08c6c5.gif"},"4d12":function(e,t,i){"use strict";var n=i("3a81"),s=i.n(n);s.a},"4d36":function(e,t,i){"use strict";var n=i("5709"),s=i.n(n);s.a},5709:function(e,t,i){},e8c5:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wraps"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isTabsShow,expression:"isTabsShow"}],staticClass:"container tabs_type_chats",staticStyle:{height:"30px",background:"#4d657f","padding-left":"0","padding-right":"0",transform:"translateY(40px)","z-index":"10",position:"relative"}},[e._m(0),e._m(1)]),n("div",{staticClass:"container chat_container"},[n("div",{staticClass:"hidden-xs hidden-sm hidden-md col-sm-1 col-md-2 col-lg-3"}),n("div",{staticClass:"col-xs-12 col-sm-12 col-md-8 col-lg-6"}),n("div",{staticClass:"outer-container",class:{with_tabs:e.isTabsShow},style:e.fullHeightBlock},[n("div",{staticClass:"state-idle",class:{advState:e.isDialogOrSearchScreen},style:e.styleFixContainer,attrs:{id:"audio-chat-container"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirstLoaded&&!e.socketConnected&&!e.errorInternet&&!e.isAuth&&!e.errorRegistered&&!e.forceDisconnectReason&&!e.skipShowDisconnect,expression:"isFirstLoaded && !socketConnected && !errorInternet && !isAuth && !errorRegistered && !forceDisconnectReason && !skipShowDisconnect"}],staticClass:"mask_error nst",attrs:{id:"mask_bad"}},[e._m(2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirstLoaded&&e.errorInternet,expression:"isFirstLoaded && errorInternet"}],staticClass:"mask_error nst",attrs:{id:"mask_bad_inet"}},[n("div",[n("img",{attrs:{height:"44",align:"absmiddle",src:e.loadingIcon}}),n("span",{attrs:{rel:"nofollow"}},[e._v("У вас проблемы с интернетом. Ожидаем...")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isFirstLoaded&&e.captchaRequired&&e.socketConnected&&e.isAuth&&!e.errorInternet,expression:"isFirstLoaded && captchaRequired && socketConnected && isAuth && !errorInternet"}],staticClass:"mask_error",attrs:{id:"mask_cap"}},[n("app-recaptcha")],1),n("div",{staticClass:"audio-chat",style:{paddingTop:e.headerHeight+"px",width:"100%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isHeaderShow,expression:"isHeaderShow"}],staticClass:"header header_chat"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isTalkScreen,expression:"isTalkScreen"}]},[n("span",{staticClass:"chat"},[e._v("Голосовой чат с Nekto")]),e.isOpenAnonDialog&&e.isTalkScreen?n("div",{staticClass:"volume_slider",staticStyle:{"touch-action":"none"}},[n("vue-range-slider",{ref:"slider",attrs:{"dot-size":10,tooltip:!1,height:"4"},on:{input:e.changeVolume},model:{value:e.volume,callback:function(t){e.volume=t},expression:"volume"}})],1):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMainOrSearchScreen,expression:"isMainOrSearchScreen"}]},[n("h1",{staticClass:"chat"},[e._v("Голосовой чат рулетка")]),e._v(" от Nekto.me\n        ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isFirstLoaded&&!e.socketConnected&&!e.errorInternet&&!e.errorRegistered&&!e.forceDisconnectReason,expression:"!isFirstLoaded && !socketConnected && !errorInternet && !errorRegistered && !forceDisconnectReason"}],staticClass:"row step_chatbox load_init_step no_select_text",staticStyle:{"margin-right":"0px"}},[n("img",{attrs:{height:"44",align:"absmiddle",src:i("204a")}}),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.socketConnected,expression:"!socketConnected"}]},[e._v("Подключение...")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.socketConnected&&!e.isAuth||!e.additionalLoad,expression:"socketConnected && !isAuth || !additionalLoad"}]},[e._v("Загрузка...")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isAuth&&!e.isFirstLoaded&&e.errorRegistered,expression:"!isAuth && !isFirstLoaded && errorRegistered"}],staticClass:"chat-step connect error-1"},[n("div",{staticClass:"main-panel"},[n("div",{directives:[{name:"show",rawName:"v-show",value:1===e.errorRegistered,expression:"errorRegistered === 1"}],staticClass:"opened-label"},[e._v("У вас есть активный чат в другой вкладке, вернитесь в предыдущую вкладку.")]),n("div",{directives:[{name:"show",rawName:"v-show",value:2===e.errorRegistered,expression:"errorRegistered === 2"}],staticClass:"need-update-label"},[e._v("Для продолжения необходимо перезагрузить страницу.")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.forceDisconnectReason,expression:"forceDisconnectReason"}],staticClass:"chat-step connect error-1"},[n("div",{staticClass:"main-panel"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"inactivity"===e.forceDisconnectReason,expression:"forceDisconnectReason === 'inactivity'"}],staticClass:"opened-label",staticStyle:{display:"block"}},[e._m(3),n("div",[n("button",{staticClass:"btn btn-lg go-idle-button",staticStyle:{"padding-left":"16px","background-image":"none","min-width":"140px"},on:{click:e.reloadPage}},[e._v("Да")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"duplicate-connection"===e.forceDisconnectReason,expression:"forceDisconnectReason === 'duplicate-connection'"}],staticClass:"opened-label",staticStyle:{display:"block"}},[e._m(4),n("div",[n("button",{staticClass:"btn btn-lg go-idle-button",staticStyle:{"padding-left":"16px","background-image":"none","min-width":"140px"},on:{click:e.reloadPage}},[e._v("Да")])])])])]),e.isFirstLoaded&&e.additionalLoad&&!e.forceDisconnectReason||e.isTalkScreen&&!e.forceDisconnectReason?n("router-view"):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDialogOrSearchScreen,expression:"isDialogOrSearchScreen"}],staticClass:"horizontal_adv_container",style:e.maxHeightBlock},[n("div",{staticClass:"advBox",attrs:{id:"yandex_rtb_R-A-280493-24"}})])]),n("app-bottom-block")],1),n("app-right-block")],1),n("app-mask-shadow"),n("app-modals")],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{cursor:"pointer",float:"left","line-height":"32px","font-size":"16px",color:"white",width:"50%",height:"100%","text-align":"center"},attrs:{id:"tabs_t_chats",onclick:"window.location.href='/chat';"}},[i("span",{staticClass:"glyphicon glyphicon-pencil",staticStyle:{"font-size":"12px"}}),e._v(" Текстовый чат")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{float:"right","line-height":"27px",height:"100%","font-size":"16px",color:"black",width:"50%","text-align":"center",background:"white","border-radius":"4px 0px 0px 0px"}},[i("span",{staticClass:"micro_tab_icon"}),e._v("  Голосовой чат")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"text-align":"center"}},[n("img",{attrs:{height:"44",align:"absmiddle",src:i("204a")}}),n("span",{attrs:{rel:"nofollow"}},[e._v("Разрыв соединения. Восстанавливаем...")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("Вас долго не было, соединение было прервано."),i("br"),e._v("Подключиться снова?")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v("Аудиочат уже был открыт в другой вкладке."),i("br"),e._v("\n            Хотите сделать эту вкладку активной?"),i("br")])}],r=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),a=(i("a481"),i("7f7f"),i("2f62")),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hidden-xs hidden-sm col-sm-1 col-md-4 col-lg-3"},[e._m(0),i("br"),i("center",[e._v("© 2011-2024 "),i("a",{attrs:{href:"//nekto.me/",target:"_blank",id:"devel"}},[e._v("NektoMe")])])],1)},c=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"adv-block"},[i("div",{attrs:{id:"adfox_165020192909222838"}}),i("div",{attrs:{id:"yandex_rtb_R-A-280493-9"}})])}],h=i("c9dc"),d={name:"RightBlock",created:function(){var e=this,t=this;window.addEventListener("resize",(function(){t.renderAdv()})),this.$store.subscribe((function(t){switch(t.type){case"user/socket_registered":e.renderAdv();break}}))},methods:{renderAdv:function(){this.$store.state.user.tokenModel&&this.$store.state.user.tokenModel.id>0&&Object(h["a"])()}}},l=d,u=i("2877"),p=Object(u["a"])(l,o,c,!1,null,null,null),v=p.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"advBlock"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isDialogOrSearchScreen,expression:"isDialogOrSearchScreen"}],staticClass:"advMobileBlock"},[i("div",{staticClass:"visible-xs visible-sm minusheiheight",attrs:{id:"ya_adv_280493-3"}},[i("div",{staticClass:"advBox",style:e.maxHeightAdv,attrs:{id:"adfox_16502022570488375"}}),i("div",{staticClass:"advBox",style:e.maxHeightAdv,attrs:{id:"adfox_165020194783092128"}}),i("div",{staticClass:"advBox",style:e.maxHeightAdv,attrs:{id:"yandex_rtb_R-A-280493-10"}})])])])},m=[],g={data:function(){return{size:50,startPosition:0,windowHeight:0,rendered:!1}},mounted:function(){var e=this;this.startPosition=this.$refs["advBlock"].getBoundingClientRect().top,this.windowHeight=window.innerHeight;var t=this;window.addEventListener("resize",(function(){t.isVisible(document.querySelector(".adv-block"))||(t.windowHeight=window.innerHeight,"Searching"!==t.$route.name&&"Anon Dialog"!==t.$route.name||t.$yandexTools.renderMobile())})),window.addEventListener("load",(function(){e.routeInit(e.$route)})),this.__resizeScrollEvent=function(){t.size=t.$refs["advBlock"].clientHeight},this.$bus.$on("resizeScroll",this.__resizeScrollEvent),this.$store.subscribe((function(t){switch(t.type){case"user/registered":e.routeInit(e.$route);break}}))},computed:{isDialogOrSearchScreen:function(){return this.isAnonDialogScreen||this.isSearchingScreen},isAnonDialogScreen:function(){return"Anon Dialog"===this.$route.name},isSearchingScreen:function(){return"Searching"===this.$route.name},isMainScreen:function(){return!this.isDialogOrSearchScreen},offsetTop:function(){return this.isSearchingScreen?{marginTop:"-"+this.size+"px"}:{marginTop:"0"}},maxHeightAdv:function(){var e=365;this.windowHeight>540&&(e=380),this.windowHeight>690&&(e=440),this.windowHeight>750&&(e=450),this.windowHeight>820&&(e=571);var t=this.windowHeight-e;return this.windowHeight<370&&(t=50),{maxHeight:t+"px"}}},methods:{routeInit:function(e){var t=this;this.$store.state.system.isAuth&&(this.rendered=!1,this.isVisible(document.querySelector(".adv-block"))||("Searching"===e.name||"Anon Dialog"===e.name?this.$nextTick((function(){t.$yandexTools.renderMobile(),t.rendered=!0})):this.$yandexTools.destroyMobileAdv()))},isVisible:function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},watch:{$route:function(e,t){this.routeInit(e)}},beforeDestroy:function(){this.__resizeScrollEvent&&this.$bus.$off("resizeScroll",this.__resizeScrollEvent)}},w=g,_=Object(u["a"])(w,f,m,!1,null,null,null),b=_.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.needChats||e.reportReason?n("section",{staticClass:"hcapsect"},[e.needChats&&!e.reportReason?n("div",{staticStyle:{"font-size":"16px","margin-top":"7px","margin-bottom":"10px"}},[n("div",{staticStyle:{color:"#0b446e","margin-bottom":"10px"}},[e._v("Приветствуем, Некто.")]),e._v("\n        В целях защиты от спама"),n("br"),e._v(" первые "),e.needChats?n("span",[e._v(e._s(e.needChatsWord))]):e._e(),e._v(" необходимо решить каптчу."),n("br"),e._v(" Чатов проведено: "),e.needChats?n("span",[e._v(e._s(e.leftChats)+"/"+e._s(e.needChats))]):e._e(),e._v(".\n    ")]):e._e(),e.reportReason?n("div",{staticStyle:{"font-size":"16px","margin-top":"7px","margin-bottom":"10px"}},[e._v("\n        В целях защиты от спама "),n("br"),e._v("необходимо решить каптчу.\n    ")]):e._e(),e.captchaKey?n("vue-recaptcha",{ref:"recaptcha",staticStyle:{"min-height":"78px"},attrs:{sitekey:e.captchaKey},on:{verify:e.onVerify,expired:e.onExpired,render:e.onRender}}):e._e(),e.needChats?n("div",{staticStyle:{"margin-top":"10px !important"}},[n("center",[e._v("Или скачайте приложение"),n("br"),e._v(" и общайтесь без каптчи")]),n("center",{staticStyle:{display:"block","margin-top":"10px"}},[n("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.nektome.chatruletka.voice",target:"_blank"}},[n("img",{staticClass:"img-responsive gplaybotbut",staticStyle:{"max-height":"52px",width:"145px",display:"inline-block","margin-right":"7px"},attrs:{src:i("22c6"),border:"0"}})])])],1):e._e()],1):!e.siteKey||e.needChats||e.reportReason?e._e():n("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:e.siteKey},on:{verify:e.onVerify,expired:e.onExpired,render:e.onRender}})},S=[],x=function(){var e=!1,t=[],i=function(i){if(!e){e=!0;for(var n=0,s=t.length;n<s;n++)t[n](i)}},n=function(i){e?i():t.push(i)},s={resolved:function(){return e},resolve:i,promise:{then:n}};return s};function C(){var e=x();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,t,i){this.wait().then((function(){i(window.grecaptcha.render(e,t))}))},reset:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){"undefined"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){window.hasOwnProperty("grecaptcha")&&window.grecaptcha.hasOwnProperty("render")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error("ReCAPTCHA has not been loaded")}}}var k=C();"undefined"!==typeof window&&(window.vueRecaptchaApiLoaded=k.notify);var $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},O={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String}},mounted:function(){var e=this;k.checkRecaptchaLoad();var t=$({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired}),i=this.$slots.default?this.$el.children[0]:this.$el;k.render(i,t,(function(t){e.$widgetId=t,e.$emit("render",t)}))},methods:{reset:function(){k.reset(this.$widgetId)},execute:function(){k.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")}},render:function(e){return e("div",{},this.$slots.default)}},R=O,D=i("8992");function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function H(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach((function(t){Object(r["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var E={name:"RecaptchaModule",components:{VueRecaptcha:R},data:function(){return{siteKey:null,leftChats:null,needChats:null,reportReason:!1,declensionChats:["чат","чата","чатов"]}},mounted:function(){var e=this;this.__onCancelCaptcha=function(){e.$refs.recaptcha&&e.$refs.recaptcha.reset()},this.$bus.$on("cancelCaptcha",this.__onCancelCaptcha)},methods:{onVerify:function(e){this.$store.commit("system/setCaptchaRequired",!1),this.$bus.$emit("captchaSolution",e)},onExpired:function(){this.$refs.recaptcha.reset()},onRender:function(){setTimeout((function(){var e=document.querySelector('iframe[title="recaptcha challenge"]');if(e){var t=e.parentNode.parentNode;t.className="noleft"}}),1e3)}},computed:H({needChatsWord:function(){return this.needChats+" "+Object(D["b"])(this.needChats,this.declensionChats)}},Object(a["c"])("system",["captchaKey"])),sockets:{"captcha-request":function(e){console.log(e),this.leftChats=null,this.needChats=null,this.reportReason=!1,e.hasOwnProperty("leftChats")&&e.hasOwnProperty("needChats")&&(e.needChats&&e.leftChats<e.needChats?(this.leftChats=e.leftChats,this.needChats=e.needChats):this.needChats=null),e.hasOwnProperty("report")&&e.report&&(this.reportReason=!0),this.siteKey=this.captchaKey,this.$refs.hasOwnProperty("recaptcha")&&this.$refs.recaptcha.reset(),this.$ym.goal("captchaVisible")}},beforeDestroy:function(){this.__onCancelCaptcha&&this.$bus.$off("cancelCaptcha",this.__onCancelCaptcha)}},j=E,A=Object(u["a"])(j,y,S,!1,null,null,null),L=A.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"mask_opacity",style:e.styles})},T=[],N={name:"MaskShadow",data:function(){return{heightPage:0,widthPage:0,isShow:!1}},mounted:function(){var e=this;this.$nextTick((function(){e.heightPage=document.documentElement.scrollHeight,e.widthPage=window.innerWidth,window.addEventListener("resize",(function(){e.heightPage=document.documentElement.scrollHeight,e.widthPage=window.innerWidth}))})),this.__showEvent=function(t){e.heightPage=document.documentElement.scrollHeight,e.widthPage=window.innerWidth,e.isShow=t},this.$bus.$on("mask.show",this.__showEvent)},computed:{styles:function(){return{height:this.heightPage+"px",width:this.widthPage+"px"}}},beforeDestroy:function(){this.__showEvent&&this.$bus.$off("mask.show",this.__showEvent)}},I=N,z=(i("4d36"),Object(u["a"])(I,M,T,!1,null,null,null)),B=z.exports,q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[i("div",{attrs:{id:"modal_permissions"}},[i("div",{staticClass:"question"},[e._v("!")]),i("div",{staticClass:"title"},[e._v("Доступ к микрофону запрещен")]),i("div",{staticClass:"content"},[e._v("Пожалуйста разрешите доступ к микрофону.")]),e.isChrome()?i("div",{attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"hint-image-chrome"}),i("div",{staticClass:"content"},[e._v("Для этого в адресной строке браузера нажмите на значок в ее начале или на значок в ее конце. В появившемся окне разрешите доступ к микрофону.\n            ")])]):e._e(),e.isFirefox()?i("div",[i("div",{staticClass:"hint-image-firefox"}),i("div",{staticClass:"content"},[e._v('Для этого в адресной строке браузера нажмите на значки в ее начале. В появившемся окне удалите "запрет" использования микрофона, после этого разрешите доступ к нему.')])]):e._e(),e.isEdge()?i("div",{attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"hint-image-edge"}),i("div",{staticClass:"content"},[e._v("Для этого в адресной строке браузера нажмите на значок в ее начале. В появившемся окне разрешите доступ к микрофону и перезагрузите страницу.")])]):e._e(),e.isSafari()?i("div",{attrs:{"aria-hidden":"true"}},[i("div",{staticClass:"content"},[e._v("Для этого необходимо перезагрузить страницу.")])]):e._e()]),i("div",{attrs:{id:"only_safari_modal"}},[e._m(0),i("p",{attrs:{align:"center"}},[i("input",{staticStyle:{width:"80%"},attrs:{id:"copyLink",value:"https://nekto.me/audiochat",type:"text",readonly:""}}),i("span",{attrs:{onclick:"copyText(document.querySelector('.only-safari-popup #copyLink'))"}},[i("img",{staticStyle:{height:"16px","margin-left":"5px"},attrs:{src:e.copyIconSrc}})]),i("br"),i("span",{staticStyle:{color:"green",display:"none"},attrs:{id:"copySuccess"}},[e._v("Успешно скопировано!")])])])])},F=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",[e._v("К сожалению, ваш браузер не поддерживает голосовую связь."),i("br"),e._v("\n            Аудиочат работает только в браузере "),i("b",[e._v("Safari")]),e._v(".\n        ")])}],V={name:"Modals",data:function(){return{}},methods:{isFirefox:function(){return Object(D["g"])()},isEdge:function(){return Object(D["f"])()},isSafari:function(){return Object(D["j"])()},isChrome:function(){return Object(D["e"])()}},computed:{copyIconSrc:function(){return i("21e0")}}},W=V,K=Object(u["a"])(W,q,F,!1,null,null,null),G=K.exports,J=function(e,t){e.$swal({title:null,html:document.getElementById("modal_permissions").innerHTML,type:null,backdrop:!0,confirmButtonColor:"#5cb85c",width:"320px",position:"center",customClass:"permission-popup",showCloseButton:!0,focusConfirm:!1,confirmButtonText:"Закрыть подсказку",showCancelButton:!1,onOpen:function(){e.permissionModalOpen=!0,window.history.pushState({},"")},onClose:function(){e.permissionModalOpen=!1}}).then((function(t){t.value||window.history.back(),e.permissionModalOpen=!1}))};function Y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Q(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(i),!0).forEach((function(t){Object(r["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var U={name:"DefaultContainer",data:function(){return{windowHeight:0,windowWidth:0,headerHeight:0,volume:0,showMaskPermissions:!0}},created:function(){this.volume=this.$store.state.user.volume},mounted:function(){var e=this,t=this;this.headerHeight=document.querySelector(".navbar").clientHeight,this.$nextTick((function(){e.windowHeight=window.innerHeight,e.windowWidth=window.innerWidth,window.addEventListener("resize",(function(){e.windowHeight=window.innerHeight,e.windowWidth=window.innerWidth,e.headerHeight=document.querySelector(".navbar").clientHeight}))})),this.__rtcPermissionRequest=function(){t.showMaskPermissions=!0,setTimeout((function(){t.showMaskPermissions&&t.$bus.$emit("mask.show",!0)}),200)},this.__popStateEvent=function(e){t.permissionModalOpen&&(t.permissionModalOpen=!1,t.$swal.close())},addEventListener("popstate",this.__popStateEvent,!1),this.__rtcPermissionGrant=function(e){var i=e.granted,n=e.popup;t.showMaskPermissions=!1,t.$bus.$emit("mask.show",!1),"Search Params"===t.$route.name&&(n=!0),!i&&n&&J(t)},this.$bus.$on("rtc.permissions_request",this.__rtcPermissionRequest),this.$bus.$on("rtc.permissions_grant",this.__rtcPermissionGrant)},beforeMount:function(){var e=this;window.addEventListener("beforeunload",(function(t){if(e.anonDialog&&e.activeConnectionId){var i="Если вы покинете страницу чата, это повлечет за собой завершение беседы.";return t.preventDefault(),t.returnValue=i,i}}))},components:{AppRightBlock:v,AppBottomBlock:b,AppRecaptcha:L,AppMaskShadow:B,AppModals:G},methods:{outSearchClick:function(){this.captchaRequired?(this.$store.commit("system/cancelCaptcha"),this.$bus.$emit("cancelCaptcha"),this.$router.replace({name:"Search Params"})):this.$bus.$emit("outSearchClick")},breakDialogClick:function(){this.isOpenAnonDialog?this.$bus.$emit("breakDialogClick"):this.$router.replace({name:"Search Params"})},reportSpamClick:function(){this.$bus.$emit("reportSpamClick")},changeVolume:function(e){this.$store.commit("user/setVolume",e),this.$bus.$emit("changeVolume",e)},reloadPage:function(){window.location.reload()}},computed:Q(Q(Q({tabsHeight:function(){return this.isTabsShow?31:0},fullHeightBlock:function(){return{minHeight:this.windowHeight-this.tabsHeight+"px"}},maxHeightBlock:function(){var e=this.windowHeight-this.tabsHeight+"px";return{paddingTop:this.headerHeight+"px",maxHeight:e,height:e,minHeight:e}},isTabsShow:function(){return this.isMainScreen&&this.windowWidth<=860},isHeaderShow:function(){return this.isAnonDialogScreen&&this.windowWidth<=860?this.isOpenAnonDialog:!(this.isMainScreen&&this.windowWidth<=860)},isTalkScreen:function(){return"Anon Dialog"===this.$route.name},isSearchingScreen:function(){return"Searching"===this.$route.name},isDialogOrSearchScreen:function(){return this.isTalkScreen||this.isSearchingScreen},isMainOrSearchScreen:function(){return!this.isTalkScreen},isMainScreen:function(){return!this.isDialogOrSearchScreen},skipShowDisconnect:function(){return this.isOpenAnonDialog},isOpenAnonDialog:function(){return this.anonDialog&&this.activeConnectionId},styleFixContainer:function(){var e={};return this.isDialogOrSearchScreen&&(e={display:"flex"}),e},loadingIcon:function(){return"night"===this.colorScheme?i("46e8"):i("204a")}},Object(a["c"])("system",["errorInternet","socketConnected","captchaRequired","hcaptchaRequired","isAuth","isFirstLoaded","additionalLoad","errorRegistered","forceDisconnectReason"])),Object(a["c"])("user",["searchParams","colorScheme"])),Object(a["c"])("chat",["anonDialog","activeConnectionId"])),beforeDestroy:function(){this.__rtcPermissionRequest&&this.$bus.$off("rtc.permissions_request",this.__rtcPermissionRequest),this.__rtcPermissionGrant&&this.$bus.$off("rtc.permissions_grant",this.__rtcPermissionGrant),this.__popStateEvent&&removeEventListener("popstate",this.__popStateEvent,!1)}},X=U,Z=(i("4d12"),Object(u["a"])(X,n,s,!1,null,null,null));t["default"]=Z.exports}}]);