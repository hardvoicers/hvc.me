(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-122d0e64"],{"2a2b":function(e,t,a){e.exports=a.p+"img/audio_android_app.a8815583.png"},3507:function(e,t,a){e.exports=a.p+"img/gplaybtn.d1282c10.png"},ad5b:function(e,t,a){e.exports=a.p+"img/report_problem.e7c4f01e.svg"},bb6c:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chat-step idle"},[e.banIce||e.isOpera||e.isBadIceUa()?[s("div",{staticClass:"main-panel"},[e.banIce?s("div",{staticClass:"description",staticStyle:{"font-size":"18px"}},[s("span",{staticClass:"title"},[e._v("Голосовой чат")]),s("br"),s("center",{staticStyle:{"margin-top":"5px","margin-bottom":"10px"}},[s("img",{staticStyle:{display:"block"},attrs:{src:a("ad5b"),height:"56"}})]),e._v("\n                Ваш браузер не поддерживается. Вероятно, это связано с настройками браузера (WebRTC) или устройства. "),s("br"),e._v("\n                Попробуйте сменить браузер или установить приложение."),s("br"),s("br"),e._v("\n\n                Если у вас есть вопросы или интересные предложения по улучшению нашего сервиса, свяжитесь с нами: "),s("nobr",[s("a",{attrs:{href:"mailto:chatruletka-web@nekto.me"}},[e._v("chatruletka-web@nekto.me")])])],1):e.isBadIceUa()?s("div",{staticClass:"description",staticStyle:{"font-size":"18px"}},[s("span",{staticClass:"title"},[e._v("Голосовой чат")]),s("br"),e._v("\n                Ваш браузер не поддерживается. "),s("br"),e._v("\n                Установите приложение.\n                "),s("center",{staticStyle:{"margin-top":"5px"}},[s("img",{staticStyle:{display:"block","max-width":"290px",height:"auto"},attrs:{src:a("2a2b")}})])],1):e.isOpera?s("div",{staticClass:"description",staticStyle:{"font-size":"18px"}},[s("span",{staticClass:"title"},[e._v("Голосовой чат")]),s("br"),e._v("\n                Ваш браузер не поддерживается. Вероятно, это связано с настройками  WebRTC."),s("br"),e._v(" Попробуйте установить приложение\n                "),s("center",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[s("div",{staticStyle:{"margin-bottom":"15px"}},[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.nektome.chatruletka.voice&utm_source=nekto.me&utm_campaign=chatruletka&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",target:"_blank"}},[s("img",{attrs:{alt:"Доступно в Google Play",src:e.gplaySrc,width:"140"}})])]),e._v("\n                или ")]),e._v("сменить браузер, например Google Chrome.\n                "),s("center",{staticStyle:{"margin-top":"10px"}},[s("a",{attrs:{href:e.chromeUrl,target:"_blank",rel:"nofollow"}},[s("button",{staticClass:"btn btn-lg scan-button chrome-btn",staticStyle:{"margin-top":"10px"}},[e._v("Установить Google Chrome")])])]),s("br"),e._v("\n\n                Если у вас есть вопросы или интересные предложения по улучшению нашего сервиса, свяжитесь с нами: "),s("nobr",[s("a",{attrs:{href:"mailto:chatruletka-web@nekto.me"}},[e._v("chatruletka-web@nekto.me")])])],1):e._e()]),e.isOpera?e._e():s("div",{staticStyle:{"flex-grow":"1",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[s("div",[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.nektome.chatruletka.voice&utm_source=nekto.me&utm_campaign=chatruletka&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",target:"_blank"}},[s("img",{staticStyle:{"margin-right":"5px"},attrs:{alt:"Доступно в Google Play",src:e.gplaySrc,width:"140"}})]),s("a",{attrs:{href:"https://nekto.me/ios-chat-ruletka",target:"_blank"}},[s("img",{attrs:{alt:"Доступно в AppStore",src:e.appStoreSrc,width:"140"}})])])])]:[s("div",{staticClass:"main-panel"},[s("div",{staticClass:"description"},[s("span",{staticClass:"title"},[e._v("Голосовой чат")]),s("br"),e._v("\n            Добро пожаловать в голосовую чат рулетку!\n            Выберите нужные параметры и начните поиск собеседника.\n            Знакомьтесь и общайтесь с совершенно незнакомыми людьми на любые темы. Разговоры не записываются."),s("br"),e._v("\n            Если у вас есть вопросы или интересные предложения по улучшению нашего сервиса, свяжитесь с нами: "),s("nobr",[s("a",{attrs:{href:"mailto:chatruletka-web@nekto.me"}},[e._v("chatruletka-web@nekto.me")])])],1),s("div",{staticClass:"sex-filter-panel"},[s("div",{staticClass:"user-sex"},[s("label",{staticClass:"filter-label"},[e._v("Ваш пол:")]),s("btn-radio-group",{attrs:{className:"sex-buttons-panel",elements:e.mySexList,mutation:["user/setSearchParam","mySex"]},model:{value:e.searchParams.mySex,callback:function(t){e.$set(e.searchParams,"mySex",t)},expression:"searchParams.mySex"}})],1),s("div",{staticClass:"peer-sex"},[s("label",{staticClass:"filter-label"},[e._v("Пол собеседника:")]),s("btn-radio-group",{attrs:{className:"sex-buttons-panel",elements:e.wishSexList,disabled:e.isNekto,mutation:["user/setSearchParam","wishSexes"]},model:{value:e.searchParams.wishSexes,callback:function(t){e.$set(e.searchParams,"wishSexes",t)},expression:"searchParams.wishSexes"}})],1)]),s("div",{staticClass:"age-filter-panel"},[s("div",{staticClass:"user-age"},[s("label",{staticClass:"filter-label"},[e._v("Ваш возраст:")]),s("btn-radio-group",{attrs:{elements:e.ageAvailableList,disabled:e.isNekto,className:"s-age",mutation:["user/setSearchParam","myAge"]},model:{value:e.searchParams.myAge[e.searchParams.topic],callback:function(t){e.$set(e.searchParams.myAge,e.searchParams.topic,t)},expression:"searchParams.myAge[searchParams.topic]"}}),s("div",{directives:[{name:"visible",rawName:"v-visible",value:e.isVisibleRequired,expression:"isVisibleRequired"}],staticClass:"user-age-hint"},[s("span",{staticClass:"asterisk"},[e._v("*")]),e._v(" Обязательно к выбору")])],1),s("div",{staticClass:"peer-age"},[s("label",{staticClass:"filter-label"},[e._v("Возраст собеседника:")]),s("btn-checkbox-group",{attrs:{elements:e.ageAvailableList,disabled:e.isNekto,className:"s-age",mutation:["user/setSearchParam","wishAges"]},model:{value:e.searchParams.wishAges[e.searchParams.topic],callback:function(t){e.$set(e.searchParams.wishAges,e.searchParams.topic,t)},expression:"searchParams.wishAges[searchParams.topic]"}}),s("div",{directives:[{name:"visible",rawName:"v-visible",value:!e.isNekto,expression:"!isNekto"}],staticClass:"peer-age-hint"},[e._v("Можно несколько")])],1)]),s("div",{staticClass:"theme-filter-panel"},[s("div",{staticClass:"color-theme pr10"},[s("label",{staticClass:"filter-label"},[e._v("Цветовая схема:")]),s("btn-radio-group",{attrs:{elements:[e.colorSchemeList[0]],mutation:["user/setColorScheme"],className:"w"},model:{value:e.colorScheme,callback:function(t){e.colorScheme=t},expression:"colorScheme"}})],1),s("div",{staticClass:"color-theme pr10"},[s("label",{staticClass:"filter-label"},[e._v(" ")]),s("btn-radio-group",{attrs:{elements:[e.colorSchemeList[1]],mutation:["user/setColorScheme"],className:"w"},model:{value:e.colorScheme,callback:function(t){e.colorScheme=t},expression:"colorScheme"}})],1)])]),s("div",{staticStyle:{"flex-grow":"1",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[s("button",{ref:"searchCompanyBtn",staticClass:"btn btn-lg scan-button",attrs:{id:"searchCompanyBtn",disabled:e.searchBtnDisabled},on:{click:e.searchClick}},[e._v("Начать разговор")]),s("div",{staticClass:"users-count-panel"},[s("div",{staticClass:"talking"},[s("span",{staticClass:"talking-count"},[e._v(e._s(e.countUsersInChats))]),e._v(" общаются анонимно.")]),s("div",{staticClass:"join"},[e._v("Присоединяйтесь!")])]),s("div",[s("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.nektome.chatruletka.voice&utm_source=nekto.me&utm_campaign=chatruletka&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1",target:"_blank"}},[s("img",{staticStyle:{"margin-right":"5px"},attrs:{alt:"Доступно в Google Play",src:e.gplaySrc,width:"140"}})]),s("a",{attrs:{href:"https://nekto.me/ios-chat-ruletka",target:"_blank"}},[s("img",{attrs:{alt:"Доступно в AppStore",src:e.appStoreSrc,width:"140"}})])])])]],2)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("a481"),a("bd86")),r=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.divClassName},e._l(e.elements,(function(t){var s;return a("button",{staticClass:"btn btn-default",class:(s={checked:!e.disabled&&e.selected===t.value||t.nullOption&&(0===e.selected.length||e.disabled),disabled:e.disabled},s[t.hasOwnProperty("addedClass")?t.addedClass:""]=!0,s),on:{click:function(a){return e.change(t.value)}}},[e._v(e._s(t.name))])})),0)}),o=[],c={props:["elements","selected","disabled","mutation","className"],model:{prop:"selected",event:"change"},computed:{divClassName:function(){return this.className?this.className:"btn-group"}},methods:{change:function(e){if(this.mutation){var t=e;this.mutation.length>1&&(t={key:this.mutation[1],value:e}),this.$store.commit(this.mutation[0],t)}else this.$emit("change",e)}}},l=c,u=a("2877"),m=Object(u["a"])(l,r,o,!1,null,null,null),p=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.divClassName},e._l(e.elements,(function(t){return a("button",{staticClass:"btn btncheck btn-default",class:{checked:!e.disabled&&-1!==e.selected.indexOf(t.value)||t.nullOption&&(0===e.selected.length||e.disabled),disabled:e.disabled},on:{click:function(a){return e.change(t.value,t.nullOption)}}},[e._v(e._s(t.name))])})),0)},d=[],b={props:["elements","selected","disabled","mutation","className"],model:{prop:"selected",event:"change"},computed:{divClassName:function(){return this.className?this.className:"btn-group"}},methods:{change:function(e,t){if(t)this.commit([]);else{var a=this.selected,s=a.indexOf(e);-1!==s?a.splice(s,1):a.push(e),this.commit(a)}},commit:function(e){if(this.mutation){var t={key:this.mutation[1],value:e};this.$store.commit(this.mutation[0],t)}else this.$emit("change",e)}}},f=b,g=Object(u["a"])(f,h,d,!1,null,null,null),v=g.exports,C=a("8992"),k=a("2f62"),y=a("bfa5"),w=function(e,t){e.$swal({title:"Ваш браузер не поддерживает голосовую связь",html:document.getElementById("only_safari_modal").innerHTML,type:null,backdrop:!0,confirmButtonColor:"#5cb85c",width:"400px",position:"center",customClass:"only-safari-popup",showCloseButton:!0,focusConfirm:!1,confirmButtonText:"Перейти в Safari",showCancelButton:!1,onOpen:function(){},onClose:function(){}}).then((function(e){e.value&&(window.location="x-web-search://?url:https://nekto.me/audiochat")}))},_=function(e,t){e.$swal({title:null,html:document.querySelector("#app_android").innerHTML.replace(/lazy-src/g,"src"),type:null,backdrop:!0,confirmButtonColor:"#5cb85c",width:"95%",grow:"fullscreen",position:"top",customClass:"androidPopup trigAndroidPopup",showCloseButton:!0,focusConfirm:!1,confirmButtonText:"Установить приложение",showConfirmButton:!1,showCancelButton:!1,onOpen:function(){e.$store.commit("user/setAndroidModalSkip",!0)},onClose:function(){}}).then((function(a){a.value||t&&e.doSearch()}))},S=a("e89b"),O=function(e){e.$swal({title:"Укажите ваш возраст.",html:null,type:null,backdrop:!0,confirmButtonColor:"#5cb85c",position:"center",customClass:"rulesPopup",showCloseButton:!0,focusConfirm:!1,confirmButtonText:"ОК",showCancelButton:!1,onOpen:function(){e.ageParamRequiredModalOpen=!0,window.history.pushState({},"")},onClose:function(){e.ageParamRequiredModalOpen=!1}}).then((function(t){t.value||window.history.back(),e.ageParamRequiredModalOpen=!1}))},P=function(e){var t=e.$store.state.user.banInfo,a=Object(C["k"])(t.text);e.$swal({title:"БАН",html:a,type:null,backdrop:!0,confirmButtonColor:"#5cb85c",position:"center",customClass:"rulesPopup banPopup",showCloseButton:!0,focusConfirm:!1,confirmButtonText:"Понятно",cancelButtonText:"Отмена",showCancelButton:!1,onOpen:function(){e.bansModalOpen=!0,window.history.pushState({},"")},onClose:function(){e.banModalOpen=!1}}).then((function(t){t.value||window.history.back(),e.banModalOpen=!1}))},x=a("a78e"),B=a.n(x),A=a("f223");function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j={name:"selectSearchParams",components:{"btn-radio-group":p,"btn-checkbox-group":v},props:["with_ban_modal"],data:function(){return{topicList:[{value:"talk",name:"Общение"},{value:"adult",name:"Флирт 18+"}],mySexList:[{value:"",name:"Некто",addedClass:"any"},{value:"MALE",name:"Мужской",addedClass:"male"},{value:"FEMALE",name:"Женский",addedClass:"female"}],wishSexList:[{nullOption:1,value:"",name:"Не важно",addedClass:"any"},{value:"MALE",name:"Мужской",addedClass:"male"},{value:"FEMALE",name:"Женский",addedClass:"female"}],ageList:[{value:"0,17",topics:["talk"],name:"до 18 лет"},{value:"18,44",topics:["talk"],name:"от 18 до 45 лет"},{value:"45,120",topics:["talk"],name:"старше 45 лет"}],colorSchemeList:[{value:"light",name:"Светлая"},{value:"night",name:"Тёмная"}],declensionUsers:["пользователь","пользователя","пользователей"],rulesModalOpen:!1,ageParamRequiredModalOpen:!1,permissionModalOpen:!1,searchBtnClicked:!1,searchBtnDisabled:!1}},sockets:{"search.success":function(){this.$store.commit("user/setSkipSearchPrepare",!0),this.$router.push({name:"Searching"})}},created:function(){if(this.chatGroups){this.ageList=[];for(var e=0;e<this.chatGroups["talk"]["ageRanges"].length;e++){var t=this.chatGroups["talk"]["ageRanges"][e];this.ageList.push({value:t["from"]+","+t["to"],topics:["talk"],name:t["name"]})}}},mounted:function(){if(this.with_ban_modal){if(this.banInfo)return P(this),!1}else Object(C["m"])()&&!B.a.get("ios__ashowed")&&(B.a.set("ios__ashowed",1,{expires:1}),Object(S["a"])(this));var e=this;this.__popStateEvent=function(t){(e.rulesModalOpen||e.ageParamRequiredModalOpen||e.permissionModalOpen)&&(e.rulesModalOpen=!1,e.ageParamRequiredModalOpen=!1,e.permissionModalOpen=!1,e.$swal.close())},addEventListener("popstate",this.__popStateEvent,!1)},computed:$($({isNekto:function(){return""===this.searchParams.mySex},isVisibleRequired:function(){return!this.isNekto&&""===this.searchParams.myAge[this.searchParams.topic]},countUsersInChats:function(){return this.countInChats+" "+Object(C["b"])(this.countInChats,this.declensionUsers)},ageAvailableList:function(){var e=this;return this.ageList.filter((function(t){return!t.hasOwnProperty("topics")||-1!==t.topics.indexOf(e.searchParams.topic)}))},isSelectAdultTopic:function(){return"adult"===this.searchParams.topic},gplaySrc:function(){return a("3507")},appStoreSrc:function(){return a("fc85")},isOpera:function(){return Object(C["i"])()},chromeUrl:function(){return Object(C["l"])()?"https://play.google.com/store/apps/details?id=com.android.chrome":"https://www.google.com.ua/intl/ru/chrome/"}},Object(k["c"])("user",["searchParams","rulesAccept","adultEnabled","rulesEnabled","colorScheme","chatGroups","banIce","banInfo"])),Object(k["c"])("system",["countInChats","isAuth"])),methods:{searchClick:function(){return!Object(C["m"])()||Object(C["j"])()||Object(C["e"])()?(this.searchBtnDisabled=!0,this.$refs["searchCompanyBtn"].blur(),this.isNekto||""!==this.searchParams.myAge[this.searchParams.topic]?Object(C["l"])()&&!B.a.get("android_acshowed2")?(this.searchBtnDisabled=!1,_(this,!0),void B.a.set("android_acshowed2",1,{expires:7})):(A["a"].fixAutoPlay(),void this.doSearch()):(this.ageParamRequiredModalOpen=!0,this.searchBtnDisabled=!1,O(this),!1)):(w(this),!1)},doSearch:function(){var e=this,t=this;y["a"].initUserMedia().then((function(a){if(a){if(t.rulesEnabled&&!t.rulesAccept[t.searchParams.topic]&&t.$store.commit("user/setAcceptedRules",t.searchParams.topic),!t.isNekto&&""===t.searchParams.myAge[t.searchParams.topic])return O(e),t.searchBtnDisabled=!1,!1;t.$store.commit("user/setSkipSearchPrepare",!1),t.$store.commit("user/setSearchParams",t.searchParams),t.searchBtnClicked=!0,t.$router.push({name:"Searching"})}t.searchBtnDisabled=!1}))},cutUnavailableParameters:function(){this.hasInArray(this.ageAvailableList,"value",this.searchParams.myAge)||this.$store.commit("user/setSearchParam",{key:"myAge",value:""});for(var e=this.searchParams.wishAges,t=0;t<e.length;t++)this.hasInArray(this.ageAvailableList,"value",e[t])||e.splice(t,1);this.$store.commit("user/setSearchParam",{key:"wishAges",value:e})},hasInArray:function(e,t,a){for(var s=0;s<e.length;s++)if(e[s][t]===a)return!0;return!1},isBadIceUa:function(){return Object(C["d"])()}},beforeRouteEnter:function(e,t,a){a((function(e){e.$store.commit("system/cancelCaptcha"),e.$bus.$emit("cancelCaptcha"),e.$store.state.chat.activeConnectionId&&e.$router.replace({name:"Anon Dialog",params:{with_init_peers:!0}}),y["a"].stopTrack()}))},beforeRouteLeave:function(e,t,a){return this.rulesModalOpen||this.ageParamRequiredModalOpen||this.permissionModalOpen?(this.rulesModalOpen=!1,this.ageParamRequiredModalOpen=!1,this.permissionModalOpen=!1,this.$swal.close(),a(!1)):"Searching"!==e.name||this.searchBtnClicked?a():a(!1)},beforeDestroy:function(){this.__popStateEvent&&removeEventListener("popstate",this.__popStateEvent,!1)}},L=j,N=Object(u["a"])(L,s,n,!1,null,null,null);t["default"]=N.exports},e89b:function(e,t,a){"use strict";a("a481");t["a"]=function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=document.querySelector("#app_ios").innerHTML.replace(/lazy-src/g,"src");e.$swal({title:null,html:n,type:null,backdrop:!0,animation:!1,confirmButtonColor:"#5cb85c",width:"95%",grow:"fullscreen",position:"top",customClass:"androidPopup iosPopup",showCloseButton:!s,focusConfirm:!1,confirmButtonText:"Установить приложение",showCancelButton:!1,allowOutsideClick:!1,allowEscapeKey:!1,preDeny:function(){return!1},onOpen:function(){},onClose:function(){a&&a()}}).then((function(a){a.value?(t&&e.$router.go(-1),window.open("https://nekto.me/ios-chat-ruletka","_blank")):t&&e.searchRun(t)}))}},fc85:function(e,t,a){e.exports=a.p+"img/appstore_btn.59741874.png"}}]);